<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DIPLOMATA GOLD // S.I.</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root { --gold: #C5A059; --black: #050505; --green: #00FF41; --red: #FF3131; --line: rgba(255,255,255,0.05); }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
        body { background: var(--black); color: #fff; overflow: hidden; display: flex; flex-direction: column; height: 100vh; }
        
        /* HEADER COMPACTO */
        .fixed-header { flex-shrink: 0; background: #000; border-bottom: 1px solid var(--line); }
        .top-row { padding: 8px 12px; display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 0.65em; letter-spacing: 3px; color: var(--gold); font-weight: 900; }
        
        .time-nav { display: flex; padding: 0 10px 8px; gap: 5px; overflow-x: auto; scrollbar-width: none; }
        .t-btn { background: #0a0a0a; border: 1px solid #111; color: #444; padding: 5px 10px; border-radius: 4px; font-size: 0.5em; font-weight: 800; cursor: pointer; white-space: nowrap; }
        .t-btn.active { background: var(--gold); color: #000; border-color: var(--gold); }

        /* VIEWPORT COM SCROLL OTIMIZADO */
        .viewport { flex: 1; overflow-y: auto; padding-bottom: 60px; -webkit-overflow-scrolling: touch; }
        .section { display: none; width: 100%; }
        .section.active { display: block; }

        /* GRﾃ：ICO ULTRA-FLUIDO */
        .price-focus { text-align: center; padding: 25px 10px 5px; }
        #main-price { font-size: 3.2em; font-weight: 100; letter-spacing: -2px; font-family: 'Roboto Mono'; transition: 0.2s; }
        .status-msg { font-size: 0.55em; letter-spacing: 2px; font-weight: 800; margin-top: 2px; }
        .chart-container { height: 340px; width: 100%; padding: 0 5px; position: relative; }

        /* TABELA DE ALTA DENSIDADE (PARA CABER TUDO) */
        .ranking-table { width: 100%; border-collapse: collapse; table-layout: fixed; }
        .ranking-table th { position: sticky; top: 0; background: #080808; text-align: right; font-size: 0.5em; color: #333; padding: 10px 6px; border-bottom: 1px solid var(--line); z-index: 10; }
        .ranking-table td { padding: 10px 6px; border-bottom: 1px solid var(--line); font-size: 0.72em; text-align: right; font-family: 'Roboto Mono'; line-height: 1; }
        .col-rank { width: 30px; text-align: left !important; color: var(--gold); font-weight: bold; }
        .col-name { width: 90px; text-align: left !important; color: #ddd; font-family: 'Inter'; font-weight: 700; text-transform: uppercase; font-size: 0.65em; }

        /* FOOTER NAVEGAﾃﾃグ */
        .tab-bar { display: flex; border-top: 1px solid var(--line); background: #080808; position: fixed; bottom: 0; width: 100%; height: 55px; }
        .tab-item { flex: 1; display: flex; align-items: center; justify-content: center; color: #333; font-size: 0.65em; font-weight: 800; cursor: pointer; }
        .tab-item.active { color: var(--gold); border-top: 2px solid var(--gold); background: rgba(197, 160, 89, 0.02); }
    </style>
</head>
<body>

    <div class="fixed-header">
        <div class="top-row">
            <div class="logo">罰 DIPLOMATA</div>
            <div id="clock" style="font-size: 0.6em; color: #222; font-family: 'Roboto Mono';">11:15:00</div>
        </div>
        <div class="time-nav">
            <button class="t-btn" onclick="setSpd(500)">15 MIN</button>
            <button class="t-btn active" onclick="setSpd(2000)">1 HORA</button>
            <button class="t-btn" onclick="setSpd(5000)">24 HORAS</button>
        </div>
    </div>

    <div class="viewport">
        <div id="tab-graf" class="section active">
            <div class="price-focus">
                <div id="main-price">0,00</div>
                <div id="status-label" class="status-msg">ANALISANDO FLUXO...</div>
            </div>
            <div class="chart-container"><canvas id="proChart"></canvas></div>
        </div>

        <div id="tab-data" class="section">
            <table class="ranking-table">
                <thead>
                    <tr>
                        <th class="col-rank">#</th>
                        <th class="col-name">ATIVO</th>
                        <th>ATUAL</th>
                        <th style="width: 50px;">%</th>
                        <th>PROJ.</th>
                    </tr>
                </thead>
                <tbody id="market-list"></tbody>
            </table>
        </div>
    </div>

    <div class="tab-bar">
        <div class="tab-item active" onclick="nav('tab-graf', this)">GRAF</div>
        <div class="tab-item" onclick="nav('tab-data', this)">DATA</div>
    </div>

    <script>
        let spd = 2000;
        const coins = [
            {n:"Bitcoin", p:482119, v:2.1}, {n:"Ethereum", p:14820, v:1.4}, {n:"Solana", p:965, v:6.2},
            {n:"Cardano", p:2.45, v:2.1}, {n:"BNB", p:3120, v:-0.4}, {n:"XRP", p:3.1, v:0.8},
            {n:"Dogecoin", p:0.85, v:15.2}, {n:"Avalanche", p:182, v:4.7}, {n:"TRON", p:0.78, v:1.1},
            {n:"Polkadot", p:35.1, v:-2.3}, {n:"Chainlink", p:92.3, v:3.1}, {n:"Polygon", p:2.8, v:1.5},
            {n:"Shiba Inu", p:0.0001, v:8.5}, {n:"Litecoin", p:450, v:0.5}, {n:"Near", p:25, v:4.2}
        ];

        function nav(id, el) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.tab-item').forEach(t => t.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            el.classList.add('active');
            if(id === 'tab-data') drawList();
        }

        function drawList() {
            const b = document.getElementById('market-list');
            b.innerHTML = coins.map((c, i) => `<tr>
                <td class="col-rank">${i+1}</td>
                <td class="col-name">${c.n}</td>
                <td>${c.p.toLocaleString('pt-BR')}</td>
                <td style="color:${c.v >= 0 ? 'var(--green)' : 'var(--red)'}">${c.v}%</td>
                <td style="color:var(--gold)">${(c.p * (1 + c.v/100)).toLocaleString('pt-BR')}</td>
            </tr>`).join('');
        }

        const ctx = document.getElementById('proChart').getContext('2d');
        const grad = ctx.createLinearGradient(0, 0, 0, 300);
        grad.addColorStop(0, 'rgba(197, 160, 89, 0.15)');
        grad.addColorStop(1, 'rgba(0, 0, 0, 0)');

        const chart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: Array(40).fill(''),
                datasets: [{
                    data: Array(40).fill(481000),
                    borderColor: '#C5A059',
                    borderWidth: 2.5,
                    pointRadius: 0,
                    fill: true,
                    backgroundColor: grad,
                    tension: 0.4
                }]
            },
            options: { responsive: true, maintainAspectRatio: false, animation: { duration: 800 }, scales: { x: { display: false }, y: { display: false } }, plugins: { legend: { display: false } } }
        });

        function setSpd(ms) { spd = ms; document.querySelectorAll('.t-btn').forEach(b => b.classList.remove('active')); event.target.classList.add('active'); }

        setInterval(() => {
            document.getElementById('clock').innerText = new Date().toLocaleTimeString();
            let last = chart.data.datasets[0].data[39];
            let delta = (Math.random() - 0.5) * 400;
            let val = last + delta;
            chart.data.datasets[0].data.push(val);
            chart.data.datasets[0].data.shift();
            chart.update();
            const p = document.getElementById('main-price');
            const s = document.getElementById('status-label');
            p.innerText = val.toLocaleString('pt-BR', {minimumFractionDigits: 2});
            p.style.color = delta > 0 ? 'var(--green)' : 'var(--red)';
            s.innerText = delta > 0 ? 'TENDﾃ劾CIA 窶｢ ALTA' : 'CORREﾃﾃグ 窶｢ Vﾃ，UO';
            s.style.color = delta > 0 ? 'var(--green)' : 'var(--red)';
        }, spd);

        drawList();
    </script>
</body>
</html>
