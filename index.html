<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DIPLOMATA GOLD // S.I.</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root { --gold: #C5A059; --black: #050505; --green: #00FF41; --red: #FF3131; --line: rgba(255,255,255,0.08); }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
        body { background: var(--black); color: #fff; overflow: hidden; display: flex; flex-direction: column; height: 100vh; }
        
        .fixed-header { flex-shrink: 0; background: #000; border-bottom: 1px solid var(--line); }
        .top-row { padding: 12px 15px; display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 0.7em; letter-spacing: 4px; color: var(--gold); font-weight: 900; }
        
        .time-nav { display: flex; padding: 5px 10px 12px; gap: 8px; overflow-x: auto; scrollbar-width: none; }
        .t-btn { background: #111; border: 1px solid #222; color: #666; padding: 8px 14px; border-radius: 6px; font-size: 0.6em; font-weight: 800; cursor: pointer; white-space: nowrap; }
        .t-btn.active { background: var(--gold); color: #000; border-color: var(--gold); }

        .viewport { flex: 1; overflow-y: auto; padding-bottom: 80px; }
        .section { display: none; width: 100%; }
        .section.active { display: block; }

        /* GR√ÅFICO MELHORADO */
        .price-focus { text-align: center; padding: 35px 20px 10px; }
        #main-price { font-size: 3.5em; font-weight: 200; letter-spacing: -2px; font-family: 'Roboto Mono'; transition: color 0.3s; }
        .status-msg { font-size: 0.6em; letter-spacing: 3px; font-weight: 800; margin-top: 5px; opacity: 0.8; }
        
        .chart-container { 
            height: 380px; 
            width: 100%; 
            padding: 0 10px; 
            position: relative;
            background: radial-gradient(circle at center, rgba(197, 160, 89, 0.03) 0%, transparent 70%);
        }

        /* TABELA */
        .ranking-table { width: 100%; border-collapse: collapse; table-layout: fixed; }
        .ranking-table th { position: sticky; top: 0; background: #080808; text-align: right; font-size: 0.55em; color: #444; padding: 15px 10px; border-bottom: 1px solid var(--line); }
        .ranking-table td { padding: 18px 10px; border-bottom: 1px solid var(--line); font-size: 0.8em; text-align: right; font-family: 'Roboto Mono'; }
        .col-rank { width: 45px; text-align: left !important; color: var(--gold); font-weight: bold; }
        .col-name { width: 110px; text-align: left !important; color: #eee; font-family: 'Inter'; font-weight: 600; text-transform: uppercase; }

        .tab-bar { display: flex; border-top: 1px solid var(--line); background: #080808; position: fixed; bottom: 0; width: 100%; height: 65px; }
        .tab-item { flex: 1; display: flex; align-items: center; justify-content: center; color: #555; font-size: 0.75em; font-weight: 800; cursor: pointer; }
        .tab-item.active { color: var(--gold); border-top: 3px solid var(--gold); background: rgba(197, 160, 89, 0.02); }
    </style>
</head>
<body>

    <div class="fixed-header">
        <div class="top-row">
            <div class="logo">üî± DIPLOMATA</div>
            <div id="clock" style="font-size: 0.7em; color: #333; font-family: 'Roboto Mono';">11:12:00</div>
        </div>
        <div class="time-nav">
            <button class="t-btn" onclick="setSpeed(500)">15 MIN</button>
            <button class="t-btn active" onclick="setSpeed(2000)">1 HORA</button>
            <button class="t-btn" onclick="setSpeed(5000)">24 HORAS</button>
        </div>
    </div>

    <div class="viewport">
        <div id="tab-graf" class="section active">
            <div class="price-focus">
                <div id="main-price">481.888,73</div>
                <div id="status-label" class="status-msg" style="color: var(--green);">OPERACIONAL ‚Ä¢ EST√ÅVEL</div>
            </div>
            <div class="chart-container">
                <canvas id="ultraChart"></canvas>
            </div>
        </div>

        <div id="tab-data" class="section">
            <table class="ranking-table">
                <thead>
                    <tr>
                        <th class="col-rank">#</th>
                        <th class="col-name">ATIVO</th>
                        <th>ATUAL</th>
                        <th style="width: 60px;">%</th>
                        <th>PROJ.</th>
                    </tr>
                </thead>
                <tbody id="market-body"></tbody>
            </table>
        </div>
    </div>

    <div class="tab-bar">
        <div class="tab-item active" onclick="switchTab('tab-graf', this)">GRAF</div>
        <div class="tab-item" onclick="switchTab('tab-data', this)">DATA</div>
    </div>

    <script>
        let speed = 2000;
        const marketData = [
            {n:"Bitcoin", p:482119.45, v:2.1}, {n:"Ethereum", p:14820.10, v:1.4},
            {n:"Solana", p:965.40, v:6.2}, {n:"Cardano", p:2.45, v:2.1},
            {n:"BNB", p:3120.00, v:-0.4}, {n:"XRP", p:3.10, v:0.8}
        ];

        function switchTab(id, el) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.tab-item').forEach(t => t.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            el.classList.add('active');
            if(id === 'tab-data') renderTable();
        }

        function renderTable() {
            const tbody = document.getElementById('market-body');
            tbody.innerHTML = marketData.map((c, i) => `<tr>
                <td class="col-rank">${i+1}</td>
                <td class="col-name">${c.n}</td>
                <td>${c.p.toLocaleString('pt-BR')}</td>
                <td style="color:${c.v >= 0 ? 'var(--green)' : 'var(--red)'}">${c.v}%</td>
                <td style="color:var(--gold)">${(c.p * (1 + c.v/100)).toLocaleString('pt-BR')}</td>
            </tr>`).join('');
        }

        const ctx = document.getElementById('ultraChart').getContext('2d');
        const gradient = ctx.createLinearGradient(0, 0, 0, 400);
        gradient.addColorStop(0, 'rgba(197, 160, 89, 0.2)');
        gradient.addColorStop(1, 'rgba(0, 0, 0, 0)');

        const chart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: Array(40).fill(''),
                datasets: [{
                    data: Array(40).fill(481888),
                    borderColor: '#C5A059',
                    borderWidth: 3,
                    pointRadius: 0,
                    fill: true,
                    backgroundColor: gradient,
                    tension: 0.4,
                    borderCapStyle: 'round'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                animation: { duration: 1000, easing: 'easeInOutQuart' },
                scales: { x: { display: false }, y: { display: false } },
                plugins: { legend: { display: false } }
            }
        });

        function setSpeed(ms) {
            speed = ms;
            document.querySelectorAll('.t-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
        }

        setInterval(() => {
            document.getElementById('clock').innerText = new Date().toLocaleTimeString();
            let last = chart.data.datasets[0].data[39];
            let move = (Math.random() - 0.5) * 500;
            let val = last + move;
            
            chart.data.datasets[0].data.push(val);
            chart.data.datasets[0].data.shift();
            chart.update();

            const pEl = document.getElementById('main-price');
            const sEl = document.getElementById('status-label');
            pEl.innerText = val.toLocaleString('pt-BR', {minimumFractionDigits: 2});
            
            if (move > 0) {
                pEl.style.color = 'var(--green)';
                sEl.innerText = 'TEND√äNCIA ‚Ä¢ ALTA';
                sEl.style.color = 'var(--green)';
            } else {
                pEl.style.color = 'var(--red)';
                sEl.innerText = 'CORRE√á√ÉO ‚Ä¢ V√ÅCUO';
                sEl.style.color = 'var(--red)';
            }
        }, speed);

        renderTable();
    </script>
</body>
</html>
