<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SENTINELA S.A. V3.7 // AUTONOMIA TOTAL</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root { --gold: #C5A059; --black: #050505; --green: #00FF41; --red: #FF3131; --line: rgba(255,255,255,0.05); --select: rgba(197, 160, 89, 0.2); }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
        body { background: var(--black); color: #fff; overflow: hidden; display: flex; flex-direction: column; height: 100vh; }
        
        /* BLOQUEIO IPI */
        #lock-screen { position: fixed; inset: 0; background: #000; z-index: 9999; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .login-box { text-align: center; border: 1px solid var(--gold); padding: 40px; border-radius: 8px; background: #080808; }
        .login-box input { background: #111; border: 1px solid #333; color: var(--gold); padding: 10px; text-align: center; outline: none; margin-top: 20px; font-family: 'Roboto Mono'; }
        
        .header { padding: 12px; border-bottom: 1px solid var(--line); display: flex; justify-content: space-between; align-items: center; }
        .logo { color: var(--gold); font-weight: 900; letter-spacing: 2px; font-size: 0.75em; cursor: pointer; }
        
        .decision-panel { background: #080808; padding: 12px; display: flex; justify-content: space-around; border-bottom: 1px solid var(--line); transition: 0.5s; position: relative; }
        .stat-box { text-align: center; }
        .stat-label { font-size: 0.5em; color: #666; text-transform: uppercase; }
        .stat-value { font-family: 'Roboto Mono'; font-weight: bold; font-size: 0.85em; }

        .viewport { flex: 1; overflow: hidden; display: flex; flex-direction: column; position: relative; }
        #watermark { display: none; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: rgba(197, 160, 89, 0.15); font-size: 1.5em; font-weight: 900; z-index: 1; pointer-events: none; text-align: center; }

        .price-container { text-align: center; padding: 10px; z-index: 2; }
        #active-asset { font-size: 0.65em; letter-spacing: 3px; color: #FFFFFF; font-weight: 900; margin-bottom: 5px; text-shadow: 0 0 10px rgba(197, 160, 89, 0.3); }
        #main-price { font-size: 2.8em; font-weight: 100; font-family: 'Roboto Mono'; letter-spacing: -2px; }
        
        .chart-wrapper { height: 160px; padding: 0 10px; z-index: 2; }
        .table-container { flex: 1; overflow-y: auto; background: #050505; border-top: 1px solid var(--line); scrollbar-width: none; }
        .table-container::-webkit-scrollbar { display: none; }

        .asset-list { width: 100%; border-collapse: collapse; }
        .asset-list tr { border-bottom: 1px solid var(--line); cursor: pointer; transition: 0.2s; }
        .asset-list tr.selected { background: var(--select); border-left: 4px solid var(--gold); }
        .asset-list td { padding: 12px 10px; font-size: 0.7em; }
        
        .trend-up { color: var(--green) !important; font-weight: bold; }
        .trend-down { color: var(--red) !important; font-weight: bold; }
        
        .asset-name { font-weight: bold; color: var(--gold); text-transform: uppercase; font-size: 0.6em; }
        .vacuo-counter { font-size: 0.85em; color: #444; margin-left: 5px; font-family: 'Roboto Mono'; }
        
        .btn-snapshot { position: fixed; bottom: 20px; right: 20px; background: var(--gold); color: #000; border: none; padding: 10px; border-radius: 50%; cursor: pointer; z-index: 100; font-size: 1.2em; display: flex; align-items: center; justify-content: center; box-shadow: 0 0 15px rgba(197,160,89,0.5); }
    </style>
</head>
<body>

<div id="lock-screen">
    <div class="login-box">
        <h2 style="color:var(--gold); font-size:0.7em; letter-spacing:3px;">S.A. ACCESS ONLY</h2>
        <input type="password" id="pass-field" placeholder="DIGITE O IPI" onkeypress="checkPass(event)">
        <p style="color:#333; font-size:0.5em; margin-top:10px;">DNA: 16 -> 8 REGULATION ACTIVE</p>
    </div>
</div>

<div class="header">
    <div class="logo" onclick="toggleLinkedinMode()">üî± DIPLOMATA GOLD V3.7</div>
    <div id="clock" style="font-family:'Roboto Mono'; font-size:0.7em; color:#333;">00:00:00</div>
</div>

<div id="sa-panel" class="decision-panel">
    <div class="stat-box"><div class="stat-label">Ciclo</div><div class="stat-value" style="color:var(--gold)">24H</div></div>
    <div class="stat-box"><div class="stat-label">Sentinela</div><div id="sa-decision" class="stat-value">---</div></div>
    <div class="stat-box"><div class="stat-label">Estabilidade</div><div id="sa-stability" class="stat-value" style="color:var(--green)">0s</div></div>
    <div class="stat-box"><div class="stat-label">Proj. (-50%)</div><div id="sa-proj" class="stat-value">---</div></div>
</div>

<div class="viewport">
    <div id="watermark">S.A. SOBERANIA DIGITAL</div>
    <div class="price-container">
        <div id="active-asset">BITCOIN / BRL</div>
        <div id="main-price">0,00</div>
    </div>
    <div class="chart-wrapper"><canvas id="mainChart"></canvas></div>
    <div class="table-container">
        <table class="asset-list"><tbody id="assets-body"></tbody></table>
    </div>
</div>

<button class="btn-snapshot" onclick="toggleLinkedinMode()" title="Modo LinkedIn">üõ°Ô∏è</button>

<script>
    let linkedinMode = false;
    let lastStatus = "";

    function checkPass(e) { 
        if(e.key === 'Enter' && document.getElementById('pass-field').value === '1234') {
            document.getElementById('lock-screen').style.display='none';
            if (Notification.permission !== "granted") Notification.requestPermission();
        }
    }

    function toggleLinkedinMode() {
        linkedinMode = !linkedinMode;
        document.getElementById('watermark').style.display = linkedinMode ? 'block' : 'none';
        renderTable();
    }

    const assets = [
        { id: 'BTC', name: 'Bitcoin', price: 482150.0, base: 472000, vol: 90, color: '#C5A059', vSecs: 1240 },
        { id: 'ETH', name: 'Ethereum', price: 14850.2, base: 14610, vol: 75, color: '#627EEA', vSecs: 850 },
        { id: 'SOL', name: 'Solana', price: 968.45, base: 908, vol: 95, color: '#14F195', vSecs: 2100 },
        { id: 'FET', name: 'Fetch.ai', price: 12.55, base: 10, vol: 92, color: '#14F195', vSecs: 450 },
        { id: 'RNDR', name: 'Render', price: 55.40, base: 50, vol: 88, color: '#FFFFFF', vSecs: 320 },
        { id: 'BNB', name: 'Binance', price: 3125.0, base: 3105, vol: 60, color: '#F3BA2F', vSecs: 1500 },
        { id: 'NEAR', name: 'Near', price: 25.10, base: 24.05, vol: 50, color: '#FFFFFF', vSecs: 90 },
        { id: 'AVAX', name: 'Avalanche', price: 181.6, base: 173.5, vol: 80, color: '#E84142', vSecs: 600 },
        { id: 'TIA', name: 'Celestia', price: 32.40, base: 30, vol: 88, color: '#7D26CD', vSecs: 180 },
        { id: 'PEPE', name: 'Pepe', price: 0.00004, base: 0.00003, vol: 98, color: '#00FF41', vSecs: 15 },
        { id: 'LINK', name: 'Chainlink', price: 92.40, base: 89, vol: 70, color: '#2A5ADA', vSecs: 400 },
        { id: 'MATIC', name: 'Polygon', price: 2.85, base: 2.70, vol: 65, color: '#8247E5', vSecs: 210 },
        { id: 'DOT', name: 'Polkadot', price: 35.20, base: 34, vol: 50, color: '#E6007A', vSecs: 500 },
        { id: 'ADA', name: 'Cardano', price: 2.15, base: 2.10, vol: 40, color: '#0033AD', vSecs: 800 },
        { id: 'XRP', name: 'XRP', price: 3.10, base: 3.15, vol: 55, color: '#23292F', vSecs: 1100 },
        { id: 'DOGE', name: 'Dogecoin', price: 0.85, base: 0.80, vol: 90, color: '#C2A633', vSecs: 150 },
        { id: 'LTC', name: 'Litecoin', price: 420.5, base: 410, vol: 60, color: '#345D9D', vSecs: 1200 },
        { id: 'SHIB', name: 'Shiba Inu', price: 0.0001, base: 0.00009, vol: 80, color: '#FFA500', vSecs: 50 },
        { id: 'TRX', name: 'Tron', price: 0.65, base: 0.60, vol: 70, color: '#FF0013', vSecs: 3000 },
        { id: 'UNI', name: 'Uniswap', price: 45.30, base: 42, vol: 68, color: '#FF007A', vSecs: 420 },
        { id: 'AAVE', name: 'Aave', price: 450.2, base: 440, vol: 58, color: '#B6509E', vSecs: 600 },
        { id: 'ALGO', name: 'Algorand', price: 0.95, base: 0.90, vol: 45, color: '#FFFFFF', vSecs: 150 },
        { id: 'ARB', name: 'Arbitrum', price: 5.12, base: 4.90, vol: 62, color: '#28A0F0', vSecs: 110 },
        { id: 'OP', name: 'Optimism', price: 15.40, base: 14.80, vol: 58, color: '#FF0420', vSecs: 95 },
        { id: 'ICP', name: 'Internet Comp.', price: 65.2, base: 62, vol: 45, color: '#F15A24', vSecs: 340 },
        { id: 'STX', name: 'Stacks', price: 10.15, base: 9.80, vol: 72, color: '#5546FF', vSecs: 180 },
        { id: 'INJ', name: 'Injective', price: 145.2, base: 140, vol: 70, color: '#00A3FF', vSecs: 550 },
        { id: 'SEI', name: 'Sei', price: 3.45, base: 3.10, vol: 84, color: '#FF3131', vSecs: 230 },
        { id: 'KAS', name: 'Kaspa', price: 0.75, base: 0.70, vol: 78, color: '#70C7BA', vSecs: 400 },
        { id: 'BONK', name: 'Bonk', price: 0.00012, base: 0.0001, vol: 85, color: '#FFA500', vSecs: 12 }
    ];

    let current = assets[0];
    const ctx = document.getElementById('mainChart').getContext('2d');
    const chart = new Chart(ctx, {
        type: 'line',
        data: { labels: Array(30).fill(''), datasets: [{ data: Array(30).fill(current.price), borderColor: current.color, borderWidth: 2, pointRadius: 0, tension: 0.4 }] },
        options: { responsive: true, maintainAspectRatio: false, scales: { x: { display: false }, y: { display: false } }, plugins: { legend: { display: false } } }
    });

    function select(id) {
        current = assets.find(a => a.id === id);
        document.getElementById('active-asset').innerText = `${current.name.toUpperCase()} / BRL`;
        chart.data.datasets[0].borderColor = current.color;
        renderTable();
        updateDecision();
    }

    function dispararAlerta(moeda, status) {
        if (Notification.permission === "granted" && status === "LIBERADA: ENTRA") {
            new Notification(`üî± SENTINELA S.A.`, { body: `${moeda} LIBERADA! Alvo de 50% detectado.` });
            const msg = new SpeechSynthesisUtterance(`${moeda} liberada. Padr√£o Ouro.`);
            msg.lang = 'pt-BR';
            window.speechSynthesis.speak(msg);
        }
    }

    function updateDecision() {
        const vBruta = (current.price - current.base);
        const lucroSA = vBruta * 0.5; // DNA: Fator 16 -> 8
        const alvoFinal = current.price + lucroSA;

        const dec = document.getElementById('sa-decision');
        const stab = document.getElementById('sa-stability');
        const panel = document.getElementById('sa-panel');
        let status = "AGUARDAR";

        if(vBruta < 0) {
            status = "PULA (V√ÅCUO)"; dec.style.color = "var(--red)"; panel.style.background = "#1a0505";
            current.vSecs = 0; stab.style.color = "var(--red)";
        } else {
            if(current.vol > 80 && (vBruta/current.base)*100 > 1) {
                status = "LIBERADA: ENTRA"; dec.style.color = "var(--green)"; panel.style.background = "#080808";
                if(lastStatus !== status) dispararAlerta(current.name, status);
            } else {
                dec.style.color = "var(--gold)"; panel.style.background = "#080808";
            }
            stab.style.color = "var(--green)";
        }
        
        lastStatus = status;
        dec.innerText = status;
        stab.innerText = current.vSecs + "s";
        document.getElementById('sa-proj').innerText = linkedinMode ? "****" : alvoFinal.toLocaleString('pt-BR', {minimumFractionDigits: 2, maximumFractionDigits: 2});
    }

    function renderTable() {
        document.getElementById('assets-body').innerHTML = assets.map(a => {
            const v = ((a.price - a.base) / a.base) * 100;
            const priceStr = linkedinMode ? '****' : a.price.toLocaleString('pt-BR', {minimumFractionDigits: 2, maximumFractionDigits: 2});
            return `
                <tr onclick="select('${a.id}')" class="${current.id === a.id ? 'selected' : ''}">
                    <td class="asset-name">${a.name} <span class="vacuo-counter">üõ°Ô∏è ${a.vSecs}s</span></td>
                    <td style="text-align:right; font-family:'Roboto Mono'; font-size:0.9em;">${priceStr}</td>
                    <td style="text-align:right; font-family:'Roboto Mono';" class="${v >= 0 ? 'trend-up' : 'trend-down'}">
                        ${v >= 0 ? '‚ñ≤' : '‚ñº'} ${Math.abs(v).toFixed(2)}%
                    </td>
                </tr>
            `;
        }).join('');
    }

    // SIMULA√á√ÉO REAL-TIME + CONTADORES
    setInterval(() => {
        document.getElementById('clock').innerText = new Date().toLocaleTimeString();
        assets.forEach(a => { 
            a.price += (Math.random() - 0.5) * (a.price * 0.001);
            a.vSecs++; 
        });
        chart.data.datasets[0].data.push(current.price); chart.data.datasets[0].data.shift();
        chart.update('none');
        document.getElementById('main-price').innerText = linkedinMode ? "****" : current.price.toLocaleString('pt-BR', {minimumFractionDigits: 2, maximumFractionDigits: 2});
        renderTable();
        updateDecision();
    }, 1500);

    renderTable();
    updateDecision();
</script>
</body>
</html>
