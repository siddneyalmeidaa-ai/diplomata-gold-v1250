<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root { --gold: #B8860B; --black: #050505; --green: #00FF41; --red: #FF3131; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
        body { background: var(--black); color: #fff; overflow: hidden; }

        /* HEADER */
        .header { padding: 15px 20px; border-bottom: 1px solid #111; display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 0.7em; letter-spacing: 5px; color: var(--gold); font-weight: 900; text-transform: uppercase; }

        /* SELETOR DE MINUTOS/HORAS (TIME CONTROL) */
        .time-selector { 
            display: flex; 
            justify-content: space-around; 
            background: #080808; 
            padding: 12px 5px; 
            border-bottom: 1px solid #111;
        }
        .t-btn { 
            background: none; 
            border: none; 
            color: #444; 
            font-size: 0.6em; 
            font-weight: 900; 
            cursor: pointer; 
            transition: 0.3s;
            padding: 5px 10px;
        }
        .t-btn.active { color: var(--gold); border-bottom: 2px solid var(--gold); }

        /* PAINEL DE PREÇO */
        .display-area { height: calc(100vh - 190px); padding: 20px; display: flex; flex-direction: column; align-items: center; }
        #price-val { font-size: 3.8em; font-weight: 100; letter-spacing: -2px; margin-top: 20px; transition: 0.2s; }
        #signal-text { font-size: 0.6em; letter-spacing: 4px; color: #222; font-weight: 800; margin-bottom: 30px; }

        /* GRÁFICO STEALTH */
        .chart-container { width: 100%; flex-grow: 1; position: relative; }
        
        /* FOOTER */
        .footer { position: fixed; bottom: 0; width: 100%; height: 60px; display: flex; align-items: center; padding: 0 20px; border-top: 1px solid #111; font-size: 0.6em; color: #333; letter-spacing: 1px; }
    </style>
</head>
<body>

    <div class="header">
        <div class="logo">Diplomata Gold // S.I.</div>
        <div id="clock" style="color: #444; font-family: monospace;">00:00:00</div>
    </div>

    <div class="time-selector">
        <button class="t-btn" onclick="updateTime('15m', this)">15 MIN</button>
        <button class="t-btn" onclick="updateTime('30m', this)">30 MIN</button>
        <button class="t-btn active" onclick="updateTime('45m', this)">45 MIN</button>
        <button class="t-btn" onclick="updateTime('1h', this)">1 HORA</button>
        <button class="t-btn" onclick="updateTime('2h', this)">2 HORAS</button>
        <button class="t-btn" onclick="updateTime('24h', this)">24 HORAS</button>
    </div>

    <div class="display-area">
        <div id="price-val">477.100,00</div>
        <div id="signal-text">AGUARDANDO SINAL</div>
        
        <div class="chart-container">
            <canvas id="terminalChart"></canvas>
        </div>
    </div>

    <div class="footer">
        <span id="view-mode">MODE: REALTIME // BUFFER: 100ms</span>
    </div>

    <script>
        const ctx = document.getElementById('terminalChart').getContext('2d');
        const grad = ctx.createLinearGradient(0, 0, 0, 300);
        grad.addColorStop(0, 'rgba(184, 134, 11, 0.1)');
        grad.addColorStop(1, 'transparent');

        let points = Array(50).fill(477100);
        const chart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: Array(50).fill(''),
                datasets: [{
                    data: points,
                    borderColor: '#B8860B',
                    borderWidth: 1.5,
                    pointRadius: 0,
                    fill: true,
                    backgroundColor: grad,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                animation: false,
                scales: { x: { display: false }, y: { display: false } },
                plugins: { legend: { display: false } }
            }
        });

        function updateTime(period, btn) {
            document.querySelectorAll('.t-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            document.getElementById('view-mode').innerText = `MODE: ${period.toUpperCase()} // PROTECTION: ACTIVE`;
            // Aqui entra a lógica de mudar o zoom do gráfico futuramente
        }

        setInterval(() => {
            document.getElementById('clock').innerText = new Date().toLocaleTimeString();
            
            const last = points[points.length - 1];
            const change = (Math.random() - 0.5) * 600;
            const val = last + change;
            
            points.push(val);
            points.shift();
            chart.update('none');

            const pDisplay = document.getElementById('price-val');
            const sDisplay = document.getElementById('signal-text');
            pDisplay.innerText = val.toLocaleString('pt-BR', { minimumFractionDigits: 2 });

            if(change > 0) {
                pDisplay.style.color = "var(--green)";
                sDisplay.innerText = "ENTRA • ALVO POSITIVO";
                sDisplay.style.color = "var(--green)";
                chart.data.datasets[0].borderColor = "var(--green)";
            } else {
                pDisplay.style.color = "var(--red)";
                sDisplay.innerText = "PULA • VÁCUO DETECTADO";
                sDisplay.style.color = "var(--red)";
                chart.data.datasets[0].borderColor = "var(--red)";
            }
        }, 500);
    </script>
</body>
</html>
